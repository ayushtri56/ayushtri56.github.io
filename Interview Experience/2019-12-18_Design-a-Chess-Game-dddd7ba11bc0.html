<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Design a Chess Game</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Design a Chess Game</h1>
</header>
<section data-field="subtitle" class="p-summary">
The Problem
</section>
<section data-field="body" class="e-content">
<section name="b5ee" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="74a9" id="74a9" class="graf graf--h3 graf--leading graf--title">Design a Chess Game</h3><figure name="6cd2" id="6cd2" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*rZp6YkEcnc_6TvxijEcSAw.gif" data-width="320" data-height="355" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*rZp6YkEcnc_6TvxijEcSAw.gif"></figure><h3 name="f90d" id="f90d" class="graf graf--h3 graf-after--figure">The Problem</h3><p name="2ba4" id="2ba4" class="graf graf--p graf-after--h3">Our goal is to implement chess classes/functions and its flow. We may/may not implement an AI for the program. Rather, this game is meant for two human opponents to play against each other but its extendible for computer as a opponent. A game of chess involves chess pieces, and a chess board.</p><p name="378c" id="378c" class="graf graf--p graf-after--p">From the application developer perspective, we should be telling the <strong class="markup--strong markup--p-strong">classes and its relation, class diagrams &amp; flow</strong>. We all know the time scarcity during a technical discussion and some time its difficult what other guy is expecting from us.</p><h3 name="7078" id="7078" class="graf graf--h3 graf-after--p">Use case diagram</h3><p name="1584" id="1584" class="graf graf--p graf-after--h3">All systems interact with human or automated actors that use the system for some purpose, and both human and actors expect the system to behave in predictable ways.</p><figure name="c369" id="c369" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*7nZ8aOnf1nXKmHMpomwTdQ.jpeg" data-width="842" data-height="349" src="https://cdn-images-1.medium.com/max/800/1*7nZ8aOnf1nXKmHMpomwTdQ.jpeg"></figure><h3 name="7bae" id="7bae" class="graf graf--h3 graf-after--figure">Implementation</h3><p name="d0e8" id="d0e8" class="graf graf--p graf-after--h3">We are going to design classes and basic functionality which can be wrapped up in library or framework and can be used by application.</p><p name="76dc" id="76dc" class="graf graf--p graf-after--p">Let’s start with identifying the classes involved in designing a chess game.</p><h4 name="7a0b" id="7a0b" class="graf graf--h4 graf-after--p">Directly exposed classes to application:</h4><pre name="c328" id="c328" class="graf graf--pre graf-after--h4"><strong class="markup--strong markup--pre-strong"><em class="markup--em markup--pre-em">Game</em></strong> : This class is the main interface class for application to consume and utilise the business logic behind it. At the time of instantiation we need to pass few information which will play help in playing chess like <strong class="markup--strong markup--pre-strong">firstPlayer: Player, secondPlayer: Player, board: Board = Board(state: .newGame), colorToMove: Color = .white</strong></pre><figure name="5048" id="5048" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*4XM4zhif3oK3xqLrSr-_eg.png" data-width="1772" data-height="400" src="https://cdn-images-1.medium.com/max/800/1*4XM4zhif3oK3xqLrSr-_eg.png"></figure><figure name="13d2" id="13d2" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*LkAdYU8rL8LNHxTz4NvHIw.png" data-width="1766" data-height="506" src="https://cdn-images-1.medium.com/max/800/1*LkAdYU8rL8LNHxTz4NvHIw.png"></figure><pre name="f39e" id="f39e" class="graf graf--pre graf-after--figure"><strong class="markup--strong markup--pre-strong">Piece : </strong>This class will be used to design piece view at the application side, based on piece.type, piece.color we can decide which icon image we need to use. It will contain a property called as movement: PieceMovement which will help in making sure the piece can move to the location based on the piece type .</pre><figure name="a5cc" id="a5cc" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*f5DJz7eDLpo8BCOvz9O8Bw.png" data-width="612" data-height="376" src="https://cdn-images-1.medium.com/max/800/1*f5DJz7eDLpo8BCOvz9O8Bw.png"></figure><pre name="4b61" id="4b61" class="graf graf--pre graf-after--figure"><strong class="markup--strong markup--pre-strong">BoardLocation : </strong>This class will help in mapping the piece view with board based on location instance. To Add initial piece views, it will have <strong class="markup--strong markup--pre-strong">all: [BoardLocation]</strong> parameter which will have 64 elements and using the index from 0..&lt;64 range, we will map x co-ordinate as index % 8 &amp; y co-ordinate as index / 8 <strong class="markup--strong markup--pre-strong">, index: Int </strong>parameter.</pre><figure name="aec9" id="aec9" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*D_Z65xEn-Fr-pH8C7tUQUw.jpeg" data-width="645" data-height="456" src="https://cdn-images-1.medium.com/max/800/1*D_Z65xEn-Fr-pH8C7tUQUw.jpeg"></figure><h4 name="bf31" id="bf31" class="graf graf--h4 graf-after--figure">Application classes which will consume framework/library classes:</h4><blockquote name="7577" id="7577" class="graf graf--blockquote graf-after--h4"><strong class="markup--strong markup--blockquote-strong">BoardView:</strong> This class will be of type View(like UIView in iOS), which will have draw(<strong class="markup--strong markup--blockquote-strong">_</strong> rect: CGRect) method for drawing 64 rectangles with two different color in a board. It will expose one callback method<br> <strong class="markup--strong markup--blockquote-strong">func</strong> touchedSquareAtIndex(boardView: BoardView, index: Int) which will be consumed by main controller class.</blockquote><blockquote name="b69a" id="b69a" class="graf graf--blockquote graf-after--blockquote"><strong class="markup--strong markup--blockquote-strong">PieceView:</strong> This class will be of type View, which will take <strong class="markup--strong markup--blockquote-strong">piece: Piece, location: BoardLocation </strong>as a input and use piece.type, piece.color to draw images like WhiteKnight or BlackKnight.</blockquote><figure name="a078" id="a078" class="graf graf--figure graf-after--blockquote"><img class="graf-image" data-image-id="1*s4TqtzhohuwpPRIXAN6-mQ.png" data-width="1506" data-height="852" src="https://cdn-images-1.medium.com/max/800/1*s4TqtzhohuwpPRIXAN6-mQ.png"></figure><blockquote name="aef0" id="aef0" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">GameController:</strong> This class is responsible for drawing UI and handling its interaction, call back from board view.<strong class="markup--strong markup--blockquote-strong"> Call back handling detail :-</strong> If piece view is selected then it will have selectedIndex variable to update the selection UI for a peice and when empty board has been clicked to make a move , we will recieve <strong class="markup--strong markup--blockquote-strong">touchedSquareAtIndex </strong>call back, will utilise the index argument to get the current board location and validates If it has tapped the same piece again, deselect it or Select new piece if possible <strong class="markup--strong markup--blockquote-strong">game.currentPlayer.occupiesSquare(at: location)</strong> or If there is a selected piece, see if it can move to the new location <strong class="markup--strong markup--blockquote-strong">game.currentPlayer.movePiece(from: BoardLocation(index: selectedIndex),to: location)</strong></blockquote><figure name="fb43" id="fb43" class="graf graf--figure graf-after--blockquote"><img class="graf-image" data-image-id="1*EO7rsg_lw4cDFhzwr39j3A.png" data-width="2486" data-height="1592" src="https://cdn-images-1.medium.com/max/800/1*EO7rsg_lw4cDFhzwr39j3A.png"></figure><p name="ce2d" id="ce2d" class="graf graf--p graf-after--figure">It time to move into more details of library or framework which will contain chess game classes and its functionality in detail. we have covered Game, Piece &amp; BoardLocation already and lets explore more classes in play.</p><p name="eb96" id="eb96" class="graf graf--p graf-after--p">Classes:</p><ol class="postList"><li name="39ec" id="39ec" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Board</strong>: This class will have squares array of type Square class, method for setup for NewGame like <strong class="markup--strong markup--li-strong">setupForNewGame </strong>and<strong class="markup--strong markup--li-strong"> </strong>expose methods for manipulating pieces, get specific pieces &amp; for checking check mate state.</li></ol><figure name="7fa8" id="7fa8" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*XKjIkYE8z0Uve4PvmRc-lw.png" data-width="1624" data-height="1044" src="https://cdn-images-1.medium.com/max/800/1*XKjIkYE8z0Uve4PvmRc-lw.png"></figure><p name="0cd3" id="0cd3" class="graf graf--p graf-after--figure">2. <strong class="markup--strong markup--p-strong">Square</strong>: This class hold piece: Piece object or empty.</p><p name="6b1b" id="6b1b" class="graf graf--p graf-after--p">3. <strong class="markup--strong markup--p-strong">PieceMovement</strong>: This is <strong class="markup--strong markup--p-strong">Base Class, which will work as factory and provide interface for getting </strong>pieceMovement(for pieceType: Piece.PieceType) of different type for example: PieceMovementPawn, PieceMovementKnight, PieceMovementQueen etc. It will implement few methods like canPieceMove, isMovementPossible, canPieceOccupySquare etc.</p><figure name="98c4" id="98c4" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*gV6GfjXJ2DA-01-dD7mMLQ.png" data-width="3220" data-height="1150" src="https://cdn-images-1.medium.com/max/800/1*gV6GfjXJ2DA-01-dD7mMLQ.png"></figure><p name="884e" id="884e" class="graf graf--p graf-after--figure">4. Player: This is base class and can be conformed by Human, AI or Computer class, it will give one call back method to inform that player made the move &amp; expose one method moving piece <strong class="markup--strong markup--p-strong">movePiece</strong>/<strong class="markup--strong markup--p-strong">canMovePiece.</strong></p><figure name="86cf" id="86cf" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*KpKyNr_o7Dg37Nec37-OiA.png" data-width="2164" data-height="1116" src="https://cdn-images-1.medium.com/max/800/1*KpKyNr_o7Dg37Nec37-OiA.png"></figure><p name="e593" id="e593" class="graf graf--p graf-after--figure">5. BoardOperation: This class will take three input <strong class="markup--strong markup--p-strong">type: OperationType, piece: Piece, location: BoardLocation</strong> &amp; OperationType like movePiece, removePiece, transformPiece.</p><p name="dbbe" id="dbbe" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Note</strong>: For iOS interview Questions , check this link — <a href="/ios-expert-series-or-interview-series/top-ios-interview-questions-you-must-prepare-in-2018-e0d73be27adc" data-href="/ios-expert-series-or-interview-series/top-ios-interview-questions-you-must-prepare-in-2018-e0d73be27adc" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Top iOS Interview Questions You Must Prepare In 201</a>9</p><p name="d33f" id="d33f" class="graf graf--p graf-after--p">I am expecting most of the things will become picture in your mind and easy to remember as well as explain. <strong class="markup--strong markup--p-strong">For backend design </strong>, please follow<a href="https://medium.com/system-designing-interviews" data-href="https://medium.com/system-designing-interviews" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong"> System Design series</strong></a></p><p name="7f64" id="7f64" class="graf graf--p graf-after--p">Hope you like the explanation. For more design questions , Please wait and follow me.</p><p name="7d58" id="7d58" class="graf graf--p graf-after--p">References:</p><ol class="postList"><li name="8fc5" id="8fc5" class="graf graf--li graf-after--p graf--trailing"><a href="https://github.com/SteveBarnegren/SwiftChess" data-href="https://github.com/SteveBarnegren/SwiftChess" class="markup--anchor markup--li-anchor" rel="nofollow noopener noopener noopener" target="_blank">https://github.com/SteveBarnegren/SwiftChess</a></li></ol></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@nishantnitb" class="p-author h-card">Nishant Sharma</a> on <a href="https://medium.com/p/dddd7ba11bc0"><time class="dt-published" datetime="2019-12-18T05:31:02.246Z">December 18, 2019</time></a>.</p><p><a href="https://medium.com/@nishantnitb/design-a-chess-game-dddd7ba11bc0" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on February 11, 2021.</p></footer></article></body></html>